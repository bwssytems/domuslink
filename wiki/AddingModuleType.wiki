#This page is a guide to adding a module type to domus.Link

= Introduction =

These are my notes from attempting to add a module type.


= Details =

index.php

                case "hvac":

---------------------------------------

layout.tpl
{noformat}
  <div id="menuitem"><p><a href="<?php echo ($config['url_path']); ?>/index.php?page=hvac"><?php echo ($lang['hvac']); ?></a></p></div> 

  <div id="menuitem"><a href="<?php echo ($config['url_path']);?>/index.php?page=hvac" onmouseover="imgRoll('img_6', '<?php echo ($config['url_path']);?>/theme/<?php echo ($config['theme']);?>/images/menu_hvac_on.png')" onmouseout="imgRoll('img_6', '<?php echo ($config['url_path']);?>/theme/<?php echo ($config['theme']);?>/images/menu_hvac_off.png')"><img alt="<?php echo ($lang['hvac']);?>" src="<?php echo ($config['url_path']);?>/theme/<?php echo ($config['theme']);?>/images/menu_hvac_off.png" border="0" name="img_6" /></a></div>
{noformat}
incremented imgRoll id's



-----------------------------

English.php

$lang["hvac"] = "HVAC";

----------------------------------------

/volume1/web/dl/theme/default/images

menu_hvac_off.png
menu_hvac_on.png
module_hvac_off.jpg
module_hvac_on.jpg

-------------------------------------------------------------------------------

default.css (decrease width to fit more menu items)

div#menuitem {                                                                                                                                                                                                       
        float: left;                                                                                                                                                                                                 
        width: 10.5%;

---------------------------------------------

hvac.tpl (create a new template)

<img src="<?php echo $config['url_path']; ?>/theme/<?php echo $config['theme']; ?>/images/module_hvac_<?php echo $state; ?>.png" vspace="2" />





---------------------

include.php

$modtypes['hvac'] = 'HVAC';



-----------------

cmd.func.php

function rcs_req($unit, $preset) {
         global $config;
         $req = $config['heyuexecreal']." rcs_req preset ".$unit .$preset, true);
         return $req[0];
}


heyu_action() :

                case "req":
                        $cmd = rcs_req($_GET["unit"], $_GET["preset"]);
                        break;